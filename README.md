![GitHub](https://img.shields.io/github/license/fsales/fiap-tech-chalenge-fase3)
![GitHub code size in bytes](https://img.shields.io/github/languages/code-size/fsales/fiap-tech-chalenge-fase3)
![GitHub language count](https://img.shields.io/github/languages/count/fsales/fiap-tech-chalenge-fase3)
![GitHub top language](https://img.shields.io/github/languages/top/fsales/fiap-tech-chalenge-fase3)
![GitHub issues](https://img.shields.io/github/issues/fsales/fiap-tech-chalenge-fase3)
[![Create release](https://github.com/fsales/fiap-tech-chalenge-fase3/actions/workflows/create-release.yml/badge.svg)](https://github.com/fsales/fiap-tech-chalenge-fase3/actions/workflows/create-release.yml)
[![Publish Image Registry - Branch Develop](https://github.com/fsales/fiap-tech-chalenge-fase3/actions/workflows/git-flow-publish-image-develop.yml/badge.svg)](https://github.com/fsales/fiap-tech-chalenge-fase3/actions/workflows/git-flow-publish-image-develop.yml)

<p align="center">
 <img src="https://img.shields.io/static/v1?label=GitHub&message=@fsales&color=8257E5&labelColor=000000" alt="@fsales" />
 <img src="https://img.shields.io/static/v1?label=Tipo&message=Tech%20Chalenge&color=8257E5&labelColor=000000" alt="Tech Chalenge" />
</p>

# :bookmark_tabs: Tech Chalenge

> Tech Challenge para avalia√ß√£o da Fase III da P√≥s Gradua√ß√£o em Arquitetura e Desenvolvimento Java.

- [:bookmark\_tabs: Tech Chalenge](#bookmark_tabs-tech-chalenge)
  - [üõ†Ô∏è Linguagem e ferramentas](#Ô∏è-linguagem-e-ferramentas)
  - [üè´ Dados Acad√™micos](#-dados-acad√™micos)
    - [üè¨ Institui√ß√£o](#-institui√ß√£o)
    - [üßëüèª‚ÄçüéìCurso](#curso)
    - [Aluno](#aluno)
  - [Pr√©-requisitos](#pr√©-requisitos)
  - [Como Executar](#como-executar)
    - [Executar imagem Docker do Park Tech](#executar-imagem-docker-do-park-tech)
    - [IDE de desenvolvimento](#ide-de-desenvolvimento)
  - [Arquitetura Hexagonal](#arquitetura-hexagonal)
    - [Considera√ß√£o](#considera√ß√£o)
  - [CI/CD](#cicd)
    - [Github Action](#github-action)
      - [Pipeline CI/CD](#pipeline-cicd)
      - [Secrets](#secrets)
  - [Park Tech - Sistema de Gest√£o de Estacinamentos](#park-tech---sistema-de-gest√£o-de-estacinamentos)
    - [Integra√ß√£o com Servi√ßos](#integra√ß√£o-com-servi√ßos)
    - [:hammer: Funcionalidades do projeto](#hammer-funcionalidades-do-projeto)
    - [Endpoints](#endpoints)
      - [Requisi√ß√£o HTTP](#requisi√ß√£o-http)
      - [API](#api)
  - [Desafio encontrado durante o desenvolvimento](#desafio-encontrado-durante-o-desenvolvimento)
  - [Refer√™ncia](#refer√™ncia)

## üõ†Ô∏è Linguagem e ferramentas

[![logo java](https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=kofi&logoColor=white)](#)

[![logo mongodb](https://img.shields.io/badge/MongoDB-4EA94B?style=for-the-badge&logo=mongodb&logoColor=white)](https://www.mongodb.com/)

[![logo spring](https://img.shields.io/badge/Spring-6DB33F?style=for-the-badge&logo=spring&logoColor=white)](https://spring.io/)
[![logo spring-boot](https://img.shields.io/badge/Spring_Boot-F2F4F9?style=for-the-badge&logo=spring-boot)](https://spring.io/projects/spring-boot)
[![logo spring security](https://img.shields.io/badge/Spring_Security-6DB33F?style=for-the-badge&logo=Spring-Security&logoColor=white)](https://spring.io/projects/spring-security)


[![logo git](https://img.shields.io/badge/GIT-E44C30?style=for-the-badge&logo=git&logoColor=white)](https://git-scm.com/)
[![logo github](https://img.shields.io/badge/GitHub-100000?style=for-the-badge&logo=github&logoColor=white)](https://github.com)
[![logo github action](https://img.shields.io/badge/Github%20Actions-282a2e?style=for-the-badge&logo=githubactions&logoColor=367cfe)](https://docs.github.com/pt/actions)


[![logo AWS](https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white)](https://aws.amazon.com/)
[![logo docker](https://img.shields.io/badge/Docker-2CA5E0?style=for-the-badge&logo=docker&logoColor=white)](https://docker.com)
[![logo terraform](https://img.shields.io/badge/Terraform-7B42BC?style=for-the-badge&logo=terraform&logoColor=white)](https://www.terraform.io/)


[![logo eclipse](https://img.shields.io/badge/Eclipse-2C2255?style=for-the-badge&logo=eclipse&logoColor=white)](https://www.eclipse.org/)
[![logo intellij](https://img.shields.io/badge/IntelliJ_IDEA-000000.svg?style=for-the-badge&logo=intellij-idea&logoColor=white)](https://www.jetbrains.com/pt-br/idea/)

[![logo curl](https://img.shields.io/badge/curl-093754.svg?style=for-the-badge&logo=curl-idea&logoColor=white)](https://curl.se/)
[![logo Google-chrome](https://img.shields.io/badge/Google_chrome-4285F4?style=for-the-badge&logo=Google-chrome&logoColor=white)](https://www.google.pt/intl/pt-PT/chrome/?brand=FHFK&gclid=CjwKCAjwnOipBhBQEiwACyGLuu4mCvDZcz9NfyfYpBcLdbDQXuIG2WbyC85RYuP3SLSiNGUcNE9hyRoCXxkQAvD_BwE&gclsrc=aw.ds)
[![logo postman](https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=Postman&logoColor=white)](https://www.postman.com/)
[![logo swagger](https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=Swagger&logoColor=white)](https://swagger.io/)

## üè´ Dados Acad√™micos

### üè¨ Institui√ß√£o

Faculdade FIAP

### üßëüèª‚ÄçüéìCurso

P√≥s-Gradua√ß√£o em Arquitetura e Desenvolvimento Java

### Aluno

| [<img src="https://avatars.githubusercontent.com/u/816101?v=4" width=115><br><sub>F√°bio de Oliveira Sales</sub>](https://github.com/fsales) |
| :---: |

[![Linkedin Badge](https://img.shields.io/badge/-F√°bio%20Sales-blue?style=flat-square&logo=Linkedin&logoColor=white&link=https://www.linkedin.com/in/fabio-oliveira-sales/)](https://www.linkedin.com/in/fabio-oliveira-sales/)
[![Gmail Badge](https://img.shields.io/badge/-fabio.oliveira.sales@gmail.com-c14438?style=flat-square&logo=Gmail&logoColor=white&link=mailto:fabio.oliveira.sales@gmail.com)](mailto:fabio.oliveira.sales@gmail.com)

## Pr√©-requisitos

Antes de come√ßar, voc√™ precisar√° ter as seguintes ferramentas instaladas em sua m√°quina:

- Java 17
- Git
- Docker
- IDE de desenvolvimento:
  - Eclipse
  - IntelliJ IDEA
  - VSCode
  - Outras
- Navegador:
  - Google Chrome
  - Outro
- Postman, CURL ou utilize o Swagger

## Como Executar

1. Abrir o terminal

- Git Bash
- CMD
- Bash
- Outros

2. **Clonar reposit√≥rio.**
  git [https://github.com/fsales/fiap-tech-chalenge-fase3.git](https://github.com/fsales/fiap-tech-chalenge-fase3.git).

```sh
git clone  https://github.com/fsales/fiap-tech-chalenge-fase3.git  fiap-tech-chalenge-fase3
```

### Executar imagem Docker do Park Tech

> No diret√≥rio [`/fiap-tech-challenge-fase3/docker-compose`](/docker-compose/) voc√™ encontrar√° o
> arquivo [`docker-compose-parktech.yaml`](/docker-compose/docker-compose-parktech.yaml) com as defini√ß√µes da aplica√ß√£o
> Park Tech.

1. **Park Tech utilizando o Docker.**

- Iniciar o container do Park Tech

```sh
docker-compose -f ./docker-compose/docker-compose-parktech.yaml up -d --force-recreate
```

- Parar o container do MongoDB

```sh
docker-compose -f ./docker-compose/docker-compose-parktech.yaml down -v
```

- As configura√ß√µes do Park Tech est√° definido no arquivo:

  - [.env-parktech](/docker-compose/parktech-config/.env-parktech)

> A vari√°vel de ambiente `PARK_TECH_SPRING_DOCKER_COMPOSE_ENABLE` deve ser configurado com o valor **false**

### IDE de desenvolvimento

1. **Acessar o diret√≥rio** `fiap-tech-chalenge-fase3/park-tech`.

```sh
cd  /fiap-tech-chalenge-fase3/park-tech
```

2. **Construir o projeto utilizando o maven.**

```sh
./mvnw clean package
```

3. **MongoDB utilizando o Docker.**

> No diret√≥rio [`/fiap-tech-challenge-fase3/docker-compose`](/docker-compose/) voc√™ encontrar√° o
> arquivo [`docker-compose-mongodb.yaml`](/docker-compose/docker-compose-mongodb.yaml) com as defini√ß√µes do `MongoDB` e
> do cliente `Mongo Express`.

- Iniciar o container do MongoDB

```sh
docker-compose -f ./docker-compose/docker-compose-mongodb.yaml up -d
```

- Parar o container do MongoDB

```sh
docker-compose -f ./docker-compose/docker-compose-mongodb.yaml down -v
```

- As configura√ß√µes do MongoDB e Mongo Express est√£o definidos no arquivo:

  - [.env-mongodb](/docker-compose/mongo-config/.env-mongodb)
  - [.env-mongoexpress](/docker-compose/mongo-config/.env-mongoexpress)

> Caso a vari√°vel de ambiente `PARK_TECH_PROFILE_ENVIRONMENT` esteja definida com o valor `dev`, o plugin
> do [Spring Boot Docker Compose](https://spring.io/blog/2023/06/21/docker-compose-support-in-spring-boot-3-1) iniciar√°
> automaticamente os `cont√™ineres` que est√£o definidos no
> arquivo [`docker-compose-mongodb.yaml`](/docker-compose/docker-compose-mongodb.yaml) localizado no
> diret√≥rio [`/fiap-tech-challenge-fase3/docker-compose`](/docker-compose/).

4. **Importar o projeto `fiap-tech-chalenge-fase3/park-tech` na sua IDE de desenvolvimento.**

5. **Configure as vari√°veis de ambiente na IDE de desenvolvimento.**

    - Vari√°veis:
        - PARK_TECH_MONGODB_DATABASE:

          Nome do Banco de Dados utilizado pela aplica√ß√£o.

        - PARK_TECH_MONGODB_URI:

          URI de conex√£o ao seu banco de dados MongoDB.

        - PARK_TECH_PROFILE_ENVIRONMENT:

          Perfis de aplicativos usando a propriedade spring.profiles.active no arquivo application.yml. Isso permite que
          voc√™ defina diferentes configura√ß√µes e comportamentos para diferentes ambientes (por exemplo, desenvolvimento,
          produ√ß√£o, teste).

            - Valores poss√≠veis para a vari√°vel `PARK_TECH_PROFILE_ENVIRONMENT`:
                - dev
                - cloud-atlas

> O usu√°rio e senha do `MongoDB` foram definidos
> no `/fiap-tech-challenge-fase3/docker-compose/mongo-config/.env-mongodb` e podem ser consultados no
> arquivo [.env-mongoexpress](/docker-compose/mongo-config/.env-mongoexpress).

## Arquitetura Hexagonal

A arquitetura hexagonal, proposta por Alistair Cockburn em seu artigo [Hexagonal Architecture](http://wiki.c2.com/?HexagonalArchitecture=)[^1], inicialmente chamada de Ports And Adapters, √© uma proposta arquitetural em camadas que visa proteger a l√≥gica de neg√≥cios do sistema. A inova√ß√£o dessa abordagem est√° na compreens√£o de Cockburn de que n√£o h√° uma grande diferen√ßa entre como a interface do usu√°rio e o banco de dados interagem com o aplicativo; ambos s√£o elementos externos que podem ser substitu√≠dos a qualquer momento.

Para mitigar a depend√™ncia direta desses fatores externos (como interface de usu√°rio, bancos de dados, integra√ß√µes e filas), Cockburn introduz o conceito de "portas", que s√£o interfaces aplicando o princ√≠pio de invers√£o de depend√™ncia. Estas s√£o interfaces que a l√≥gica de neg√≥cio conhece. Al√©m disso, ele prop√µe os "adaptadores", que s√£o as implementa√ß√µes dessas portas, lidando com as depend√™ncias externas.

Essencialmente, a arquitetura hexagonal √© um padr√£o que separa a l√≥gica de neg√≥cios do sistema das preocupa√ß√µes t√©cnicas, como a intera√ß√£o com o usu√°rio ou o acesso ao banco de dados. Ela se baseia na ideia de que uma aplica√ß√£o √© composta por "portas" de entrada e sa√≠da, que possibilitam a comunica√ß√£o com o mundo exterior, e "adaptadores", que convertem essas informa√ß√µes em um formato compreens√≠vel para a aplica√ß√£o e vice-versa.

<details>
  <summary>Exemplo da Organiza√ß√£o do Projeto</summary>

```
‚îú‚îÄ‚îÄ src
  ‚îî‚îÄ‚îÄ main
    ‚îî‚îÄ‚îÄ java
      ‚îî‚îÄ‚îÄ br
        ‚îî‚îÄ‚îÄ com
          ‚îî‚îÄ‚îÄ fsales
            ‚îî‚îÄ‚îÄ parktech
              ‚îú‚îÄ‚îÄ adapters
              ‚îÇ  ‚îú‚îÄ‚îÄ in
              ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ controller
              ‚îÇ  ‚îÇ    ‚îú‚îÄ‚îÄ condutor
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ CondutorController.java
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ mapper
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ CondutorMapper.java
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ request
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ CondutorRequest.java
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ DadosAtualizarCondutorRequest.java
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ ListarCondutorRequest.java
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ response
              ‚îÇ  ‚îÇ    ‚îÇ    ‚îî‚îÄ‚îÄ CondutorResponse.java
              ‚îÇ  ‚îÇ    ‚îú‚îÄ‚îÄ exception
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ ParkTechControlerExceptionHandler.java
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ response
              ‚îÇ  ‚îÇ    ‚îÇ    ‚îú‚îÄ‚îÄ ValidationErrorResponse.java
              ‚îÇ  ‚îÇ    ‚îÇ    ‚îî‚îÄ‚îÄ ViolationResponse.java
              ‚îÇ  ‚îÇ    ‚îú‚îÄ‚îÄ ParktechResource.java
              ‚îÇ  ‚îÇ    ‚îî‚îÄ‚îÄ veiculo
              ‚îÇ  ‚îÇ      ‚îú‚îÄ‚îÄ mapper
              ‚îÇ  ‚îÇ      ‚îÇ  ‚îî‚îÄ‚îÄ VeiculoMapper.java
              ‚îÇ  ‚îÇ      ‚îú‚îÄ‚îÄ request
              ‚îÇ  ‚îÇ      ‚îÇ  ‚îú‚îÄ‚îÄ DadosAtualizarVeiculoRequest.java
              ‚îÇ  ‚îÇ      ‚îÇ  ‚îú‚îÄ‚îÄ VeiculoFiltroConsultaPaginadaRequest.java
              ‚îÇ  ‚îÇ      ‚îÇ  ‚îî‚îÄ‚îÄ VeiculoRequest.java
              ‚îÇ  ‚îÇ      ‚îú‚îÄ‚îÄ response
              ‚îÇ  ‚îÇ      ‚îÇ  ‚îî‚îÄ‚îÄ VeiculoResponse.java
              ‚îÇ  ‚îÇ      ‚îî‚îÄ‚îÄ VeiculoController.java
              ‚îÇ  ‚îî‚îÄ‚îÄ out
              ‚îÇ    ‚îú‚îÄ‚îÄ client
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ ConsultarEnderecoPorCepClient.java
              ‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ response
              ‚îÇ    ‚îÇ    ‚îî‚îÄ‚îÄ EnderecoResponse.java
              ‚îÇ    ‚îú‚îÄ‚îÄ condutor
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ DeleteCondutorAdapter.java
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ FindCondutorAdapter.java
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ FindCondutorByIdAdapter.java
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ InsertCondutorAdapter.java
              ‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ UpdateCondutorAdapter.java
              ‚îÇ    ‚îú‚îÄ‚îÄ endereco
              ‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ ConsultarEnderecoPorCepAdapter.java
              ‚îÇ    ‚îú‚îÄ‚îÄ repository
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ CondutorRepository.java
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ CondutorRepositoryCustom.java
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ entity
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ CondutorEntity.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ ContatoEntity.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ EnderecoEntity.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ PessoaEntity.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ PessoaFisicaEntity.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ VeiculoEntity.java
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ impl
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ CondutorRepositoryCustomImpl.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ VeiculoRepositoryCustomImpl.java
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ mapper
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ CondutorEntityMapper.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ EnderecoResponseMapper.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ VeiculoEntityMapper.java
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ PageRepositoryCustom.java
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ VeiculoRepository.java
              ‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ VeiculoRepositoryCustom.java
              ‚îÇ    ‚îî‚îÄ‚îÄ veiculo
              ‚îÇ      ‚îú‚îÄ‚îÄ DeleteVeiculoAdapter.java
              ‚îÇ      ‚îú‚îÄ‚îÄ FindVeiculoAdapter.java
              ‚îÇ      ‚îú‚îÄ‚îÄ FindVeiculoByIdAdapter.java
              ‚îÇ      ‚îú‚îÄ‚îÄ InsertVeiculoAdapter.java
              ‚îÇ      ‚îî‚îÄ‚îÄ UpdateVeiculoAdapter.java
              ‚îú‚îÄ‚îÄ application
              ‚îÇ  ‚îú‚îÄ‚îÄ core
              ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ domain
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Condutor.java
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Contato.java
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Endereco.java
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ enumeration
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ EstadoEnum.java
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ funcionalinterface
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ Mapper.java
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ paginacao
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ Page.java
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Pessoa.java
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ PessoaFisica.java
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Veiculo.java
              ‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ VeiculoFiltroConsultaPaginada.java
              ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ usecase
              ‚îÇ  ‚îÇ    ‚îú‚îÄ‚îÄ condutor
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ DeleteCondutorUseCase.java
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ FindCondutorByIdUseCase.java
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ FindCondutorUseCase.java
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ InsertCondutorUseCase.java
              ‚îÇ  ‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ UpdateCondutorUseCase.java
              ‚îÇ  ‚îÇ    ‚îî‚îÄ‚îÄ veiculo
              ‚îÇ  ‚îÇ      ‚îú‚îÄ‚îÄ DeleteVeiculoUseCase.java
              ‚îÇ  ‚îÇ      ‚îú‚îÄ‚îÄ FindVeiculoByIdUseCase.java
              ‚îÇ  ‚îÇ      ‚îú‚îÄ‚îÄ FindVeiculoUseCase.java
              ‚îÇ  ‚îÇ      ‚îú‚îÄ‚îÄ InsertVeiculoUseCase.java
              ‚îÇ  ‚îÇ      ‚îî‚îÄ‚îÄ UpdateVeiculoUseCase.java
              ‚îÇ  ‚îî‚îÄ‚îÄ ports
              ‚îÇ    ‚îú‚îÄ‚îÄ in
              ‚îÇ    ‚îÇ  ‚îú‚îÄ‚îÄ condutor
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ DeleteCondutorInputPort.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ FindCondutorByIdInputPort.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ FindCondutorInputPort.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ InsertCondutorInputPort.java
              ‚îÇ    ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ UpdateCondutorInputPort.java
              ‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ veiculo
              ‚îÇ    ‚îÇ    ‚îú‚îÄ‚îÄ DeleteVeiculoInputPort.java
              ‚îÇ    ‚îÇ    ‚îú‚îÄ‚îÄ FindVeiculoByIdInputPort.java
              ‚îÇ    ‚îÇ    ‚îú‚îÄ‚îÄ FindVeiculoInputPort.java
              ‚îÇ    ‚îÇ    ‚îú‚îÄ‚îÄ InsertVeiculoInputPort.java
              ‚îÇ    ‚îÇ    ‚îî‚îÄ‚îÄ UpdateVeiculoInputPort.java
              ‚îÇ    ‚îî‚îÄ‚îÄ out
              ‚îÇ      ‚îú‚îÄ‚îÄ condutor
              ‚îÇ      ‚îÇ  ‚îú‚îÄ‚îÄ ConsultarEnderecoPorCepOutputPort.java
              ‚îÇ      ‚îÇ  ‚îú‚îÄ‚îÄ DeleteCondutorOutputPort.java
              ‚îÇ      ‚îÇ  ‚îú‚îÄ‚îÄ FindCondutorByIdOutputPort.java
              ‚îÇ      ‚îÇ  ‚îú‚îÄ‚îÄ FindCondutorOutputPort.java
              ‚îÇ      ‚îÇ  ‚îú‚îÄ‚îÄ InsertCondutorOutputPort.java
              ‚îÇ      ‚îÇ  ‚îî‚îÄ‚îÄ UpdateCondutorOutputPort.java
              ‚îÇ      ‚îî‚îÄ‚îÄ veiculo
              ‚îÇ        ‚îú‚îÄ‚îÄ DeleteVeiculoOutputPort.java
              ‚îÇ        ‚îú‚îÄ‚îÄ FindVeiculoByIdOutputPort.java
              ‚îÇ        ‚îú‚îÄ‚îÄ FindVeiculoOutputPort.java
              ‚îÇ        ‚îú‚îÄ‚îÄ InsertVeiculoOutputPort.java
              ‚îÇ        ‚îî‚îÄ‚îÄ UpdateVeiculoOutputPort.java
              ‚îú‚îÄ‚îÄ config
              ‚îÇ  ‚îú‚îÄ‚îÄ condutor
              ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ DeleteCondutorConfig.java
              ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ FindCondutorByIdConfig.java
              ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ FindCondutorConfig.java
              ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ InsertCondutorConfig.java
              ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ UpdateCondutorConfig.java
              ‚îÇ  ‚îú‚îÄ‚îÄ feign
              ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ FeignConfiguration.java
              ‚îÇ  ‚îú‚îÄ‚îÄ GroupedOpenApiConfig.java
              ‚îÇ  ‚îî‚îÄ‚îÄ veiculo
              ‚îÇ    ‚îú‚îÄ‚îÄ DeleteVeiculoConfig.java
              ‚îÇ    ‚îú‚îÄ‚îÄ FindVeiculoByIdConfig.java
              ‚îÇ    ‚îú‚îÄ‚îÄ FindVeiculoConfig.java
              ‚îÇ    ‚îú‚îÄ‚îÄ InsertVeiculoConfig.java
              ‚îÇ    ‚îî‚îÄ‚îÄ UpdateVeiculoConfig.java
              ‚îú‚îÄ‚îÄ infrastructure
              ‚îÇ  ‚îú‚îÄ‚îÄ configuration
              ‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ OpenAPIConfiguration.java
              ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ SwaggerConfigProperties.java
              ‚îÇ  ‚îî‚îÄ‚îÄ properties
              ‚îÇ    ‚îî‚îÄ‚îÄ ParktechProperties.java
              ‚îî‚îÄ‚îÄ ParkTechApplication.java
```

</details>

<details>
<summary>Adapters</summary>

Adaptadores na arquitetura hexagonal s√£o componentes que traduzem dados e chamadas entre a aplica√ß√£o e sistemas externos. Por exemplo, um adaptador pode converter dados do formato interno da aplica√ß√£o para um formato compreendido por um banco de dados externo, permitindo que a l√≥gica de neg√≥cios permane√ßa independente da implementa√ß√£o espec√≠fica do banco de dados.

Esses adaptadores s√£o a implementa√ß√£o das depend√™ncias externas, como a interface do usu√°rio/entrada e a infraestrutura/sa√≠da.

- **adapter/inbound:** Nesta parte, encontram-se todos os controladores respons√°veis pela entrada de dados na aplica√ß√£o.

- **adapter/outbound:** Aqui est√£o todas as integra√ß√µes externas, como reposit√≥rios e integra√ß√µes de API, que cuidam da
  sa√≠da de dados da aplica√ß√£o.

</details>

<details>

<summary>Domain</summary>

O "domain" (dom√≠nio) na arquitetura hexagonal representa a parte central da aplica√ß√£o, onde s√£o implementadas as regras de neg√≥cios fundamentais. Nesta camada, a l√≥gica espec√≠fica da aplica√ß√£o √© encapsulada de forma independente de qualquer tecnologia ou detalhes de implementa√ß√£o externos, como interfaces de usu√°rio ou bancos de dados.

Neste contexto, as classes no dom√≠nio n√£o possuem depend√™ncias externas, incluindo depend√™ncias de estrutura. A estrutura do dom√≠nio pode ser organizada da seguinte forma:

- **domain/domain:** Aqui est√£o todas as entidades e objetos do dom√≠nio, sem nenhuma depend√™ncia externa.

- **domain/ports/inbound:** Nesta parte, s√£o definidas as interfaces que representam os casos de uso da aplica√ß√£o.

- **domain/ports/outbound:** Esta se√ß√£o cont√©m as interfaces que representam os servi√ßos externos utilizados pela
  aplica√ß√£o. Importante notar que aqui n√£o h√° nenhuma nomenclatura ligada a tecnologias espec√≠ficas.

- domain/usecase: Nesta √°rea, ocorre a implementa√ß√£o concreta dos casos de uso da aplica√ß√£o.

</details>

### Considera√ß√£o

> O desenvolvimento deste projeto est√° fundamentado na Arquitetura Hexagonal[^3], onde a principal preocupa√ß√£o reside em aplicar corretamente os conceitos de portas e adaptadores, estando integralmente alinhado com o princ√≠pio de invers√£o de depend√™ncias.
> √â crucial observar que os casos de uso, interfaces (portas) e dom√≠nios n√£o devem apresentar depend√™ncias externas, incluindo aquelas relacionadas ao framework utilizado.
> A proposta √© assegurar que a l√≥gica de neg√≥cios esteja completamente isolada desses fatores externos, garantindo assim sua integridade e independ√™ncia.

## CI/CD

CI/CD √© a abrevia√ß√£o de Continuous Integration/Continuous Delivery, traduzindo para o portugu√™s: integra√ß√£o e entrega cont√≠nuas. Trata-se de uma pr√°tica de desenvolvimento de software que visa tornar a integra√ß√£o de c√≥digo mais eficiente por meio de builds e testes automatizados. [^2]

### Github Action

GitHub Actions √© uma plataforma de integra√ß√£o cont√≠nua e entrega cont√≠nua (CI/CD) que permite automatizar sua compila√ß√£o, testes e pipeline de implanta√ß√£o. √â poss√≠vel criar fluxos de trabalho que compilar√£o e testar√£o cada solicita√ß√£o de pull em seu reposit√≥rio ou implantar√£o solicita√ß√µes de pull mescladas em produ√ß√£o. [^3]

#### Pipeline CI/CD

1. **Publica√ß√£o da Imagem no Docker Hub - Branch Develop [^4].**

- No in√≠cio do desenvolvimento, √© criada uma branch `feature/w.x.y.z` a partir da branch `develop`.
- Ao finalizar o desenvolvimento, √© aberto um `Pull Request` da branch `feature/w.x.y.z` para `develop`.
- Quando esse `PR` for `mesclado`, o fluxo de trabalho `git-flow-publish-image-develop.yaml` do GitHub Actions ser√°
    acionado, gerando a imagem `Docker` e publicando-a no `Docker Hub`.

2. **Cria√ß√£o da Release - Branch Main [^4].**

- Quando a valida√ß√£o das funcionalidades for realizada, √© criada uma branch `release/w.x.y.z` a partir da
    branch `develop`.
- Ap√≥s mesclar esse `PR`, o fluxo de trabalho `create-release.yaml` do GitHub Actions ser√° acionado, gerando a
    imagem `Docker` e publicando-a no `Docker Hub`, al√©m de criar automaticamente uma `tag` de vers√£o `w.x.y.z`.

3. **Endere√ßo do Docker Hub:**

- [https://hub.docker.com/r/fosales/park-tech](https://hub.docker.com/r/fosales/park-tech)

#### Secrets

Secrets s√£o vari√°veis que voc√™ cria em uma organiza√ß√£o, reposit√≥rio ou ambiente de reposit√≥rio. Os Secrets que voc√™ cria est√£o dispon√≠veis para utiliza√ß√£o nos fluxos de trabalho em GitHub Actions. GitHub Actions s√≥ poder√° ler um Secret se voc√™ inclu√≠-lo explicitamente em um fluxo de trabalho.

1. **Lista dos secrets que devem ser configurados no reposit√≥rio:**

- **Reposit√≥rio Github:**
  - GIT_TOKEN
  - GIT_EMAIL
- **DockerHub:***
  - DOCKERHUB_USERNAME
  - DOCKERHUB_TOKEN
- **Park-Tech:**
  - PARK_TECH_PROFILE_ENVIRONMENT
  - PARK_TECH_MONGODB_URI
  - PARK_TECH_MONGODB_DATABASE
  - PARK_TECH_BASIC_AUTH_NAME
  - PARK_TECH_BASIC_AUTH_PASSWORD
  - URI_DATABASE
- **AWS**
    - AWS_ACCESS_KEY_ID
    - AWS_SECRET_ACCESS_KEY

4. **Publica√ß√£o da vers√£o**

Escolhemos o [`Amazon Elastic Container Service (ECS)`](https://aws.amazon.com/pt/ecs/) como plataforma para hospedar
nossa aplica√ß√£o na nuvem da `AWS`. Para garantir uma implanta√ß√£o eficaz e segura, optamos por utilizar o `Terraform`,
uma ferramenta que nos permite provisionar toda a `infraestrutura` necess√°ria e publicar o cont√™iner no ECS. O processo
de execu√ß√£o do Terraform √© cuidadosamente gerenciado pelo fluxo de trabalho `aws-terraform-deploy-manual.yaml`
no `GitHub Action`s, sendo ativado manualmente para garantir um controle preciso sobre a implanta√ß√£o. Al√©m disso, se
necess√°rio, podemos reverter o processo de implanta√ß√£o acionando o fluxo de
trabalho `aws-terraform-undeploy-manual.yaml`.

## Park Tech - Sistema de Gest√£o de Estacinamentos

O sistema Park Tech √© respons√°vel por gerenciar o tempo de estacionamento dos ve√≠culos, calcular os valores devidos e
armazenar essas informa√ß√µes para fins de fiscaliza√ß√£o.

### Integra√ß√£o com Servi√ßos

- ViaCEP
  > O [ViaCEP](https://viacep.com.br/) √© um servi√ßo para consulta gratuita de c√≥digo postais de endere√ßamento do Brasil.

### :hammer: Funcionalidades do projeto

- `API de condutores`: Os condutores podem se registrar no sistema, associando seus dados pessoais, como nome, endere√ßo
  e informa√ß√µes de contato.
- `API de veiculos`: Os condutores podem registrar no sistema v√°rios ve√≠culos.
- `API de estacionamentos`: tem como objetivo  permite iniciar o per√≠odo de estacionamento, oferecendo op√ß√µes de tempo fixo ou por hora.

### Endpoints

Descri√ß√£o dos endpoints dispon√≠veis na aplica√ß√£o Park Tech.

#### Requisi√ß√£o HTTP

> Para fazer as requisi√ß√µes HTTP pode ser utilizado:

1. [CURL](https://curl.se/docs/manual.html)

2. [Swagger](http://127.0.0.1:8080/swagger-ui/index.html)
3. [Postman](https://www.postman.com/)
    1. [Collections](doc/postman-collections/Fase%203%20-%20API%20Park%20Tech.postman_collection.json)
    2. [Environment](doc/postman-collections/APi%20Park%20Tech%20-%20Dev.postman_environment.json)

#### API

- [API de condutores](doc/api-condutores.md)
- [API de veiculos](doc/api-veiculos.md)
- [API de estacionamento](doc/api-estacionamentos.md)

## Desafio encontrado durante o desenvolvimento

Durante o desenvolvimento do projeto, n√£o enfrentei dificuldades significativas com o Framework Spring. Por essa raz√£o,
pude concentrar-me em desenvolver funcionalidades b√°sicas e aprimorar minhas habilidades em atividades para as quais n√£o
tinha experi√™ncia anteriormente. Introduzi no projeto as seguintes melhorias:

1. **Utiliza√ß√£o do banco de dados MongoDB:** Optei por utilizar o MongoDB como parte do nosso sistema de gerenciamento
   de banco de dados, explorando uma abordagem diferente e valiosa para armazenar dados.

2. **Implementa√ß√£o de uma Infraestrutura na Nuvem AWS utilizando o Terraform:** Aproveitei a oportunidade para utilizar
   a nuvem p√∫blica, espec√≠ficamente a AWS, e empregar o Terraform para provisionar e disponibilizar nossa infraestrutura
   na nuvem, proporcionando escalabilidade e flexibilidade ao projeto.

3. **Cria√ß√£o de um Pipeline de CI/CD utilizando o GitHub Actions:** Estabeleci um Pipeline de Integra√ß√£o Cont√≠nua e
   Entrega Cont√≠nua (CI/CD) utilizando o GitHub Actions. Esse pipeline automatizado realiza diversas etapas essenciais,
   como o build do projeto, a gera√ß√£o da imagem Docker e sua publica√ß√£o no Docker Hub, a cria√ß√£o de tags e releases no
   GitHub, al√©m de provisionar recursos com o Terraform e public√°-los na nuvem da AWS, proporcionando uma implanta√ß√£o
   cont√≠nua e confi√°vel.

4. **Implementa√ß√£o dos Conceitos B√°sicos da Arquitetura Hexagonal:** Iniciei o estudo para aplicar os conceitos da
   arquitetura hexagonal, melhorando a estrutura do projeto para torn√°-lo mais simples de entender e modificar.

Nesta fase do projeto, percebo um grande avan√ßo em meu conhecimento e saio extremamente satisfeito com os resultados
alcan√ßados. Estou confiante de que essas melhorias enriqueceram significativamente minha experi√™ncia e habilidades no
desenvolvimento de software.

## Refer√™ncia

[^1]: [Alistair in the "Hexagone" 1/3](https://www.youtube.com/watch?v=th4AgBcrEHA).
[^2]: [CI/CD](<https://www.redhat.com/pt-br/topics/devops/what-is-ci-cd#:~:text=CI%2FCD%20%C3%A9%20a%20abrevia%C3%A7%C3%A3o,de%20builds%20e%20testes%20automatizados.>).
[^3]: [GitHub Actions](<https://docs.github.com/pt/actions/learn-github-actions/understanding-github-actions>).
[^4]: [Git Flow - Alura](https://www.alura.com.br/artigos/git-flow-o-que-e-como-quando-utilizar)
